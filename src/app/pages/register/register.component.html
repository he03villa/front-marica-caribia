<div class="container-img">
    <!-- Logo de Ziruma -->
    <div class="logo-container">
        <img src="../../../assets/img/logo.jpg" alt="Ziruma Doc's">
        <h1>Ziruma Doc's</h1>
    </div>
    <div class="container">
        <form action="" [formGroup]="form">
            <div class="content-logo">
                <i class="fa-solid fa-user"></i>
            </div>
            <h2>Registrarse</h2>
            <div class="row">
                <div class="col-12">
                    <mat-form-field class="form-group">
                        <i class="fa-solid fa-envelope"></i>
                        <input matInput placeholder="Correo electrónico" type="email" formControlName="email">
                    </mat-form-field>
                    <ng-container [ngTemplateOutlet]="formError" [ngTemplateOutletContext]="{
                        validation: 'required',
                        message: 'El correo es requerido',
                        control: form.controls['email'],
                        clase: 'black'
                    }"></ng-container>
                </div>
                <div class="col-12">
                    <mat-form-field class="form-group">
                        <i class="fa-solid fa-lock"></i>
                        <input matInput placeholder="Contraseña" type="password" formControlName="password">
                    </mat-form-field>
                    <ng-container [ngTemplateOutlet]="formError" [ngTemplateOutletContext]="{
                        validation: 'required',
                        message: 'La contraseña es requerida',
                        control: form.controls['password'],
                        clase: 'black'
                    }"></ng-container>
                </div>
                <div class="col-12">
                    <mat-form-field class="form-group">
                        <i class="fa-solid fa-lock"></i>
                        <input matInput placeholder="Confirmar contraseña" type="password" formControlName="password_confirmation">
                    </mat-form-field>
                    <ng-container [ngTemplateOutlet]="formError" [ngTemplateOutletContext]="{
                        validation: 'required',
                        message: 'La contraseña es requerida',
                        control: form.controls['password_confirmation'],
                        clase: 'black'
                    }"></ng-container>
                </div>
                <div class="col-12">
                    <a (click)="_service.url('/login/')" class="link">Ya tengo una cuenta</a>
                </div>
                <div class="col-12">
                    <button type="submit" class="btn btn-primary" [disabled]="form.invalid" (click)="register($event)">Registrarse</button>
                </div>
            </div>
        </form>
    </div>
</div>

<ng-template #formError let-control="control" let-message="message" let-clase="clase" let-validation="validation">
    @if (control.hasError(validation) && (control.dirty || control.touched)) {
    <ng-container>
      <div class="fv-plugins-message-container">
        <span role="alert">
          {{ message }}
        </span>
      </div>
    </ng-container>
    }
</ng-template>